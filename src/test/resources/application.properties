spring.profiles.active=test
# Server
server.port=8080

# Spring application
spring.application.name=ms-teams-integration-demo-app

# H2
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA / Hibernate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# MS App creds
teams.app.id=${MS_APP_ID}
teams.app.secret=${MS_APP_SECRET}
teams.app.tenant-id=${MS_TENANT_ID}

# API
api.base.url=https://8069b2ef96ee.ngrok-free.app
api.graph.inbound.webhook-url=${api.base.url}/api/graph/webhook/events
api.graph.lifecycle.webhook-url=${api.base.url}/api/graph/webhook/lifecycle
api.graph.subscription.encryption.key.id=${GRAPH_EVENTS_ENCRYPTION_KEY_ID}
api.graph.subscription.encryption.key.pass=${GRAPH_EVENTS_ENCRYPTION_KEY_PASS}
api.graph.subscription.public.encryption.key=${GRAPH_EVENTS_ENCRYPTION_PUBLIC_KEY}
api.graph.subscription.private.encryption.key=${GRAPH_EVENTS_ENCRYPTION_PRIVATE_KEY}

# Azure & MS Teams config
spring.security.oauth2.client.registration.azure.client-id=${MS_APP_ID}
spring.security.oauth2.client.registration.azure.client-secret=${MS_APP_SECRET}
spring.security.oauth2.client.registration.azure.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.azure.redirect-uri=${api.base.url}/login/oauth2/code/azure
spring.security.oauth2.client.registration.azure.client-name=Microsoft
spring.security.oauth2.client.registration.azure.scope=openid,profile,email,offline_access,https://graph.microsoft.com/User.Read,https://graph.microsoft.com/Chat.ReadWrite,https://graph.microsoft.com/ChatMessage.Send,https://graph.microsoft.com/Group.ReadWrite.All

spring.security.oauth2.client.provider.azure.authorization-uri=https://login.microsoftonline.com/${MS_TENANT_ID}/oauth2/v2.0/authorize
spring.security.oauth2.client.provider.azure.token-uri=https://login.microsoftonline.com/${MS_TENANT_ID}/oauth2/v2.0/token
spring.security.oauth2.client.provider.azure.user-info-uri=https://graph.microsoft.com/oidc/userinfo
spring.security.oauth2.client.provider.azure.user-name-attribute=email
spring.security.oauth2.client.provider.azure.jwk-set-uri=https://login.microsoftonline.com/${MS_TENANT_ID}/discovery/v2.0/keys

# Logging
logging.level.com.example.teamsbot=DEBUG
logging.level.org.springframework.web=INFO

# From .env
DATASOURCE_USERNAME=teamsbot
DATASOURCE_PASSWORD=teamsbot

MS_APP_ID=changeit
MS_APP_SECRET=changeit
MS_TENANT_ID=changeit
MS_TEAMS_ACCESS_TOKEN=changeit

GRAPH_EVENTS_ENCRYPTION_PUBLIC_KEY=ZHVtbXktcHJpdmF0ZS1rZXk=
GRAPH_EVENTS_ENCRYPTION_KEY_ID=default-key-1
GRAPH_EVENTS_ENCRYPTION_PRIVATE_KEY=ZHVtbXktcHJpdmF0ZS1rZXk=
GRAPH_EVENTS_ENCRYPTION_KEY_PASS=ZHVtbXktcHJpdmF0ZS1rZXk=